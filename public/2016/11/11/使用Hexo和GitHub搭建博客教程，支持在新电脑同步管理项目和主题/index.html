<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="author" content="gyc"><meta name="description" content="使用GitHubPages+hexo可以很便捷地搭建个人博客，githubpages提供300M的免费空间，做博客够用了，hexo是一个静态页面发布框架。下面介绍采用gitHub+hexo搭建个人博客，项目代码托管在GitHub，可以在不同电脑管理自己的博客"><meta name="keywords" content="hexo"><title>使用Hexo和GitHub搭建博客教程，支持在新电脑同步管理项目和主题 · gyc</title><link rel="icon" href="/favicon.ico"><link rel="canonical" href="http://gengyc.github.io/2016/11/11/使用Hexo和GitHub搭建博客教程，支持在新电脑同步管理项目和主题/"><link rel="alternate" href="/atom.xml" title="gyc"><link rel="stylesheet" href="/fonts/iconfont/iconfont.css"><link rel="stylesheet" href="/css/style.css"><script type="text/javascript">var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?Your baidu Analytics ID";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script type="text/javascript">(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'Your Google Analytics ID', 'auto');
ga('send', 'pageview');</script></head><body><div id="main"><header><a href="/." class="logo">gyc</a><ul class="nav"><li class="nav-link"><a href="/" target="_self">首页</a></li><li class="nav-link"><a href="/archives/" target="_self">归档</a></li><li class="nav-link"><a href="/categories/" target="_self">分类</a></li><li class="nav-link"><a href="/about/" target="_self">关于</a></li></ul></header><section id="container"><article class="post"><h1 class="post-title">使用Hexo和GitHub搭建博客教程，支持在新电脑同步管理项目和主题</h1><span class="post-time">2016年11月11日</span><div id="sidebar" class="post-sidebar"><h3 class="heading">目录</h3><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#安装环境"><span class="toc-text">安装环境</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#安装hexo"><span class="toc-text">安装hexo</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#GitHub准备工作"><span class="toc-text">GitHub准备工作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#hexo流程"><span class="toc-text">hexo流程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-新建本地站点"><span class="toc-text">1. 新建本地站点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-新建文章"><span class="toc-text">2. 新建文章</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-生成-html-js-站点文件"><span class="toc-text">3. 生成 html  js 站点文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-发布"><span class="toc-text">4. 发布</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#安装主题"><span class="toc-text">安装主题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#推送到远程"><span class="toc-text">推送到远程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#在新电脑上同步这个项目-包括主题-，步骤："><span class="toc-text">在新电脑上同步这个项目(包括主题)，步骤：</span></a></li></ol></div><div class="post-content"><p>使用 GitHubPages + hexo 可以很便捷地搭建个人博客，githubpages提供 300M 的免费空间，做博客够用了，hexo 是一个静态页面发布框架。<br>下面介绍采用 gitHub + hexo 搭建个人博客，项目代码托管在GitHub，可以在不同电脑管理自己的博客。并且，自己下载的hexo主题也可以同步管理。</p>
<a id="more"></a>
<h2 id="安装环境"><a href="#安装环境" class="headerlink" title="安装环境"></a>安装环境</h2><p>本地安装git, node</p>
<h2 id="安装hexo"><a href="#安装hexo" class="headerlink" title="安装hexo"></a>安装hexo</h2><p>使用npm安装hexo，官方提供的详细安装方法：<br><a href="https://hexo.io/zh-cn/docs/" target="_blank" rel="external">https://hexo.io/zh-cn/docs/</a></p>
<p>安装一些必要的插件：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">$  sudo  npm install hexo-deployer-git --save    //安装Git部署器</div><div class="line">$  sudo npm install hexo-generator-index --save </div><div class="line">$  sudo npm install hexo-generator-archive --save </div><div class="line">$  sudo npm install hexo-generator-category --save </div><div class="line">$  sudo npm install hexo-generator-tag --save </div><div class="line">$  sudo npm install hexo-server --save </div><div class="line">$  sudo npm install hexo-deployer-heroku --save </div><div class="line">$  sudo npm install hexo-deployer-rsync --save </div><div class="line">$  sudo npm install hexo-deployer-openshift --save </div><div class="line">$  sudo npm install hexo-renderer-marked@0.2 --save </div><div class="line">$  sudo npm install hexo-renderer-stylus@0.2 --save </div><div class="line">$  sudo npm install hexo-generator-feed@1 --save </div><div class="line">$  sudo npm install hexo-generator-sitemap@1 --save</div></pre></td></tr></table></figure>
<h2 id="GitHub准备工作"><a href="#GitHub准备工作" class="headerlink" title="GitHub准备工作"></a>GitHub准备工作</h2><p>1.在github上新建一个仓库，命名规则为 <code>git用户名.github.io</code>。仓库默认有个master分支。</p>
<p>2.另新建一个分支 gh_pages，并将此分支设置为 default_branch（默认分支）。<br>该分支用来存放和管理整个开发项目的代码，我们只需要手动管理gh_pages分支。<br>通过 <code>hexo d</code> 部署命令会将生成的文件自动提交到master分支。</p>
<p>3.将GitHub的空项目仓库clone到本地。本地新建一个分支 gh_pages, 切换到这个分支。<br>然后一直在此分支下开发，推送远程的时候也是推送到gh_pages同名远程分支。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$  git <span class="built_in">clone</span> https://github.com/gengyc/gengyc.github.io</div><div class="line">$  <span class="built_in">cd</span> gengyc.github.io</div><div class="line">$  git checkout -b gh_pages</div></pre></td></tr></table></figure>
<h2 id="hexo流程"><a href="#hexo流程" class="headerlink" title="hexo流程"></a>hexo流程</h2><h4 id="1-新建本地站点"><a href="#1-新建本地站点" class="headerlink" title="1. 新建本地站点"></a>1. 新建本地站点</h4><p>安装完hexo后，在项目根目录(/gengyc.github.io)下，运行以下命令，会自动生成项目所需文件。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$  hexo init</div><div class="line">$  npm install</div></pre></td></tr></table></figure></p>
<p>完成后，文件夹中目录如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">├── _config.yml</div><div class="line">├── package.json</div><div class="line">├── scaffolds</div><div class="line">├── source</div><div class="line">|    └── _posts</div><div class="line">|</div><div class="line">└── themes</div><div class="line"></div><div class="line">因为要将此项目推送到远程GitHub，我们需要添加一个 .gitignore 文件，忽略掉安装的插件，因为其没必要提交到远程：</div><div class="line"></div><div class="line">// .gitignore</div><div class="line">node_modules</div></pre></td></tr></table></figure></p>
<p>然后，运行 <code>hexo server</code>启动站点。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$  hexo server   // 可简写为 hexo s</div></pre></td></tr></table></figure>
<p>站点默认链接为 <a href="http://0.0.0.0:4000" target="_blank" rel="external">http://0.0.0.0:4000</a>  或 <a href="http://localhost:4000" target="_blank" rel="external">http://localhost:4000</a> ，在浏览器打开此地址即可看到站点了。<br>保存编辑文章的时候，hexo server 会监听项目文件的改动，而且会自动刷新本地站点页面。</p>
<h4 id="2-新建文章"><a href="#2-新建文章" class="headerlink" title="2. 新建文章"></a>2. 新建文章</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$  hexo new <span class="string">'文章标题'</span></div></pre></td></tr></table></figure>
<p>会在 source/_posts/ 目录下生成一个新的 markdown 格式的文件。<br>在此文件编辑和保存自己的新文章。</p>
<h4 id="3-生成-html-js-站点文件"><a href="#3-生成-html-js-站点文件" class="headerlink" title="3. 生成 html  js 站点文件"></a>3. 生成 html  js 站点文件</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$  hexo generate    // 可简写为 hexo g</div></pre></td></tr></table></figure>
<p>会在 public 文件夹中生成页面需要的完整的html js等文件。</p>
<h4 id="4-发布"><a href="#4-发布" class="headerlink" title="4. 发布"></a>4. 发布</h4><p>发布之前，先需要在根目录的 _config.yml 配置文件里关联上你自己的 github 地址。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">// _config.yml</div><div class="line"></div><div class="line">deploy:</div><div class="line">  type: git</div><div class="line">  repository: https://github.com/gengyc/gengyc.github.io</div><div class="line">  branch: master</div><div class="line"></div><div class="line">// 然后在命令行运行 hexo deploy，首次运行会按要求填写GitHub账号和密码</div><div class="line">$  hexo deploy     // 可简写为 hexo d</div></pre></td></tr></table></figure>
<p>这样，会把 public 文件夹里面的文件，推送到github仓库里。<br>然后，在浏览器中打开 <a href="https://gengyc.github.io/">https://gengyc.github.io/</a> 就可以看到所搭建的线上的静态页面了。</p>
<h2 id="安装主题"><a href="#安装主题" class="headerlink" title="安装主题"></a>安装主题</h2><p>在网上找到自己喜欢的主题，clone到 themes 文件夹下。<br>以安装<a href="https://github.com/ahonn/hexo-theme-even" target="_blank" rel="external">even</a>主题为例，在根目录下运行如下命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$  git  <span class="built_in">clone</span>  https://github.com/ahonn/hexo-theme-even  themes/even</div></pre></td></tr></table></figure>
<p>修改根目录下的 _config.yml 文件，将主题名字改为 even</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"># Extensions</div><div class="line">## Plugins: https://hexo.io/plugins/</div><div class="line">## Themes: https://hexo.io/themes/</div><div class="line">theme: even</div></pre></td></tr></table></figure>
<p>运行以下命令就可以看到新主题的效果了：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$  hexo g    // 生成</div><div class="line">$  hexo s    // 开启本地服务预览</div><div class="line">$  hexo d    // 发布</div></pre></td></tr></table></figure>
<p>一定要把主题文件也提交到远程仓库，可以自己自定义主题样式，换电脑后还可以同步自己配置的主题。<br>此时本地的git仓库跟踪不到 /themes 文件下新加的主题文件。我们只需要把 /themes/even 文件目录下的 <code>.git</code> 文件夹删除就可以了。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$  rm -rf .git</div></pre></td></tr></table></figure>
<p>然后 /themes/even 下的文件就可以被 git 跟踪到了。</p>
<h2 id="推送到远程"><a href="#推送到远程" class="headerlink" title="推送到远程"></a>推送到远程</h2><p>文章发布完后，我们把本地仓库推送到远程仓库的 gh_pages 分支。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$  git commit -am <span class="string">'add hexo'</span></div><div class="line">$  git push origin gh_pages</div></pre></td></tr></table></figure>
<h2 id="在新电脑上同步这个项目-包括主题-，步骤："><a href="#在新电脑上同步这个项目-包括主题-，步骤：" class="headerlink" title="在新电脑上同步这个项目(包括主题)，步骤："></a>在新电脑上同步这个项目(包括主题)，步骤：</h2><p>$  git clone <a href="https://github.com/gengyc/gengyc.github.io" target="_blank" rel="external">https://github.com/gengyc/gengyc.github.io</a><br>$  cd gengyc.github.io      // 默认分支为 gh_pages<br>$  npm install hexo -g<br>// 此时直接运行npm install，不需要在项目根目录运行hexo init命令，否则会将所有文件初始化掉<br>$  npm install<br>$  hexo s        // 看是否能成功开启本地服务了<br>$  hexo new ‘new article title’<br>$  hexo g<br>$  hexo d<br>$  git commit -am ‘add hexo files’<br>$  git push origin gh_pages</p>
<p>end.</p>
</div></article><div class="tags"><a href="/tags/hexo/">hexo</a></div><div class="paginator"></div></section><footer><div class="copyright"><p class="power">Powered by <a href="https://hexo.io/">Hexo</a> and Theme by <a href="https://github.com/ahonn/hexo-theme-even"> Even</a></p><p class="since">&copy;2016<span class="heart"><i class="iconfont icon-heart"></i></span><span class="author">gyc</span></p></div><label id="back2top"><i class="iconfont icon-up"></i></label></footer></div><script src="/js/zepto.min.js"></script><script src="/js/theme.js"></script></body></html>